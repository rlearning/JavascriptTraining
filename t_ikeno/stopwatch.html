<html lang="ja">
<head>
<meta charset="utf-8">
<title>ストップウォッチアプリ</title>
</head>
<script type="text/javascript"><!--
start_button = 0;            // [Start]/[Stop]のフラグ
stop_button = 0;            // [Stop]のフラグ
var myCheck = function (){
  if (start_button==0){      // Startボタンを押した
    myStart=new Date();  // スタート時間を退避
    start_button = 1;
    document.myForm.myFormButton.value = "Stop!";
    myInterval=setInterval("myDisp()",1);
  }else{                 // Stopボタンを押した
    myDisp();
    start_button = 0;
    document.myForm.myFormButton.value = "Start";
    clearInterval( myInterval ); 
  }
}
var myDisp = function (){
  myStop=new Date();  // 経過時間を退避
  myTime = myStop.getTime() - myStart.getTime(); // 通算ミリ秒計算
  myH = Math.floor(myTime/(60*60*1000));         // '時間'取得
  myTime = myTime-(myH*60*60*1000);
  myM = Math.floor(myTime/(60*1000));            // '分'取得
  myTime = myTime-(myM*60*1000);
  myS = Math.floor(myTime/1000);                 // '秒'取得
  myMS = myTime%1000;                            // 'ミリ秒'取得
  document.myForm.myFormTime.value = myH+":"+myM+":"+myS+":"+myMS;
}
// --></script>
<form name="myForm">
<input type="text" size="28" name="myFormTime">
<input type="button" value="Start" name="myFormButton" onclick="myCheck()">
</form>
</html>
